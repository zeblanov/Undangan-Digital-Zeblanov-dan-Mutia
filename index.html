<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>üíåUndangan Pernikahan Zeblanov & Mutiara</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="falling-flowers" id="falling-flowers-container"></div>

    <section id="home" class="section full-screen">
      <video autoplay muted loop playsinline class="bg-video">
        <source src="img/4.mp4" type="video/mp4" />
        Browser tidak mendukung video.
      </video>
      <div class="bg-overlay"></div>

      <div class="container">
        <p class="sapaan">Kepada Bapak/Ibu/Saudara/i,</p>
        <h1 class="nama">Zeblanov & Mutiara</h1>
        <p class="resepsi">Akan melangsungkan resepsi pernikahan dalam:</p>
        <div class="countdown-container">
          <div class="countdown-box">
            <span id="days">0</span><small>Hari</small>
          </div>
          <div class="countdown-box">
            <span id="hours">0</span><small>Jam</small>
          </div>
          <div class="countdown-box">
            <span id="minutes">0</span><small>Menit</small>
          </div>
          <div class="countdown-box">
            <span id="seconds">0</span><small>Detik</small>
          </div>
        </div>
        <a href="#info" class="btn-undangan">Lihat Undangan</a>
      </div>
      
      <button id="toggle-music" class="btn-musik">‚ô´</button>
      <audio id="bg-music" loop>
        <source src="musik/Dansa.mp3" type="audio/mpeg" />
      </audio>
    </section>

    <nav id="navbar">
      <div class="logo">Zhe & Mutia</div>
      <ul class="nav-links">
        <li><a href="#home">HOME</a></li>
        <li><a href="#info">INFO</a></li>
        <li><a href="#story">STORY</a></li>
        <li><a href="#gallery">GALLERY</a></li>
        <li><a href="#rsvp">RSVP</a></li>
      </ul>
      <div class="hamburger">‚ò∞</div>
    </nav>

    <section id="info" class="section">
      <div class="container">
        <h2 class="judul-info">Acara Pernikahan</h2>
        <p class="tanggal-info">
          Diselenggarakan pada **22 November 2025** di Kab.Semarang, Jawa Tengah.
        </p>
        <p class="deskripsi-info">
          Oleh karena itu, dengan segala hormat, kami bermaksud untuk mengundang
          Bapak/Ibu, Saudara/i, untuk hadir pada acara pernikahan kami.
        </p>

        <div class="pengantin-container">
          <div class="pengantin-flex">
            <div class="pengantin-card">
              <h3 class="nama-pengantin">Mutiara Peggia Setiawan Putri</h3>
              <img src="img/muti.jpg" class="foto-pengantin" alt="Foto Mutiara Peggia Setiawan Putri" />
              <p>
                Putri dari Bpk. Agus Setyawan<br />dan<br />Ibu Maulina
                Widiastuti
              </p>
            </div>

            <div class="love-icon">‚ù§Ô∏è</div>

            <div class="pengantin-card">
              <h3 class="nama-pengantin">Tatacherda Zeblanov Sembara</h3>
              <img src="img/ze.jpg" class="foto-pengantin" alt="Foto Tatacherda Zeblanov Sembara" />
              <p>Putra dari Bpk. Suhartono<br />dan<br />Ibu Sri Mulyani</p>
            </div>
          </div>
        </div>

        <a
          class="btn-map"
          href="https://maps.app.goo.gl/f9vZWgiZLQkbNxKv7"
          target="_blank"
          >üó∫Ô∏è Lihat Lokasi</a
        >
        <a class="btn-map" href="javascript:void(0)" onclick="openModal()"
          >Detail Acara</a
        >
      </div>
    </section>
    
    <div id="eventModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeModal()">√ó</span>
        <h2>Detail Acara</h2>
        <p>
          <strong>Akad Nikah:</strong> Sabtu, 22 November 2025 pukul 14.00 WIB
        </p>
        <p><strong>Resepsi:</strong> Setelah akad, di lokasi sesuai Maps</p>
      </div>
    </div>

    <section id="story" class="section">
      <div class="container">
        <h2 class="judul-info">Kisah Cinta Kami</h2>
        <div class="story-timeline">
          <div class="story-item">
            <h4>November 2018 ‚Äî Pertemuan Pertama</h4>
            <p>
              Kami pertama kali bertemu saat masih duduk di bangku SMP kelas 8.
              Dari pertemuan sederhana itu, benih rasa perlahan mulai tumbuh.
            </p>
          </div>
          <div class="story-item">
            <h4>24 November 2018 ‚Äî Jadian</h4>
            <p>
              Setelah cukup lama berteman, akhirnya kami resmi berpacaran.
              Tanggal ini menjadi awal perjalanan panjang kami.
            </p>
          </div>
          <div class="story-item">
            <h4>2020 ‚Äî Lulus SMP</h4>
            <p>
              Kami melanjutkan sekolah di tempat berbeda, Mutiara di SMK 2 dan
              Zeblanov di SMK 5. Walau beda sekolah, ternyata keduanya hanyalah
              sekolah
              <em>sebelahan</em> hehe, sehingga jarak kami tak pernah
              benar-benar jauh.
            </p>
          </div>
          <div class="story-item">
            <h4>2020‚Äì2023 ‚Äî Masa SMK</h4>
            <p>
              Tiga tahun di SMK penuh cerita. Dari tugas, ujian, hingga
              kesibukan remaja, kami tetap saling mendukung dan menjaga rasa.
            </p>
          </div>
          <div class="story-item">
            <h4>2023 ‚Äî Lulus SMK & Masuk Kuliah</h4>
            <p>
              Setelah lulus SMK, takdir kembali menyatukan langkah kami untuk
              kuliah bersama di Udinus. Di sinilah hubungan kami tumbuh semakin
              erat.
            </p>
          </div>
          <div class="story-item">
            <h4>18 Oktober 2025 ‚Äî Lamaran</h4>
            <p>
              Sebelum menuju pernikahan, kami mengikat janji dalam acara lamaran
              yang sederhana namun penuh makna, dikelilingi doa dan restu dari
              keluarga.
            </p>
          </div>
          <div class="story-item">
            <h4>22 November 2025 ‚Äî Hari Bahagia</h4>
            <p>
              Tujuh tahun perjalanan ini akhirnya membawa kami pada hari
              pernikahan. Dengan restu orang tua dan izin Allah SWT, kami
              mengikat janji suci untuk membangun rumah tangga bersama.
            </p>
          </div>
        </div>
      </div>
    </section>

    <section id="gallery" class="section">
      <div class="container">
        <h2 class="judul-info">Galeri Foto</h2>
        <div class="gallery-grid">
          <img
            src="img/a.jpg"
            alt="Zeblanov dan Mutiara berpose romantis"
            class="gallery-img"
            onclick="openLightbox(this)"
          />
          <img
            src="img/b.jpg"
            alt="Mutiara tersenyum di dekat Zeblanov"
            class="gallery-img"
            onclick="openLightbox(this)"
          />
          <img
            src="img/c.jpg"
            alt="Foto candid pasangan"
            class="gallery-img"
            onclick="openLightbox(this)"
          />
          <img src="img/d.jpg" alt="Foto pre-wedding d" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/e.jpg" alt="Foto pre-wedding e" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/1.jpg" alt="Foto pre-wedding 1" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/2.jpg" alt="Foto pre-wedding 2" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/3.jpg" alt="Foto pre-wedding 3" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/4.jpg" alt="Foto pre-wedding 4" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/5.jpg" alt="Foto pre-wedding 5" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/6.jpg" alt="Foto pre-wedding 6" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/7.jpg" alt="Foto pre-wedding 7" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/8.jpg" alt="Foto pre-wedding 8" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/9.jpg" alt="Foto pre-wedding 9" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/10.jpg" alt="Foto pre-wedding 10" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/11.jpg" alt="Foto pre-wedding 11" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/12.jpg" alt="Foto pre-wedding 12" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/13.jpg" alt="Foto pre-wedding 13" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/14.jpg" alt="Foto pre-wedding 14" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/15.jpg" alt="Foto pre-wedding 15" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/16.jpg" alt="Foto pre-wedding 16" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/18.jpg" alt="Foto pre-wedding 18" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/17.jpg" alt="Foto pre-wedding 17" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/19.jpg" alt="Foto pre-wedding 19" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/20.jpg" alt="Foto pre-wedding 20" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/L1.jpg" alt="Foto pre-wedding 21" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/L2.jpg" alt="Foto pre-wedding 22" class="gallery-img" onclick="openLightbox(this)" />
          <img src="img/L3.jpg" alt="Foto pre-wedding 23" class="gallery-img" onclick="openLightbox(this)" />
        </div>
      </div>
    </section>

    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
      <span class="close-lightbox" onclick="closeLightbox(event)">√ó</span>
      <img id="lightbox-img" class="lightbox-content" src="" />
    </div>


    <section id="rsvp" class="section-rsvp">
      <div class="section-wrap">
        <div class="section-head">
          <span class="section-eyebrow">Konfirmasi Kehadiran</span>
          <h2 class="section-title">RSVP Pernikahan</h2>
          <p class="section-sub">
            Mohon isi formulir berikut untuk membantu kami menyiapkan tempat &
            konsumsi.
          </p>
        </div>

        <div class="info">
          <p><strong>Alamat:</strong> Waroeng Tjandi ‚Äì Singampon</p>
          <p>
            Jl. Kyai Sono, Blanten, Genuk, Kec. Ungaran Bar., Kab. Semarang, Jawa
            Tengah 50512
          </p>
          <p><strong>CP:</strong> 089524143890 (Aurel)</p>
        </div>

        <div class="wrap">
          <div class="card">
            <div class="card-header"><h1 class="title">Form RSVP</h1></div>

            <div class="card-body">
              <form
                id="rsvpForm"
                action="https://docs.google.com/forms/d/e/1FAIpQLSf5-Rb7tR9_bA8LxkJ3K3CKJrgfsRWqwQPc6-hgJmiDcSqXkw/formResponse"
                method="POST"
                target="hidden_iframe"
              >
                <div class="form-group">
                  <label for="name">Nama Lengkap</label>
                  <input
                    type="text"
                    id="name"
                    name="entry.1498135098"
                    placeholder="Nama lengkap"
                    autocomplete="name"
                    required
                  />
                </div>

                <div class="row">
                  <div class="form-group">
                    <label for="attendance">Apakah Anda akan hadir?</label>
                    <select id="attendance" name="entry.877086558" required>
                      <option value="">-- Pilih --</option>
                      <option value="Ya, saya akan hadir">
                        Ya, saya akan hadir
                      </option>
                      <option value="Maaf, saya tidak bisa hadir">
                        Maaf, saya tidak bisa hadir
                      </option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="guests">Jumlah Tamu yang hadir</label>
                    <input
                      type="number"
                      id="guests"
                      name="entry.2606285"
                      inputmode="numeric"
                      min="0"
                      max="2"
                      placeholder="0, 1, atau 2"
                      required
                    />
                    <small class="hint"
                      >(tamu + pendamping). 0 bila tidak hadir.</small
                    >
                  </div>
                </div>

                <div class="form-group">
                  <label for="source"
                    >Bagaimana Anda mengetahui tentang acara ini?</label
                  >
                  <select id="source" name="entry.1424661284" required>
                    <option value="">-- Pilih --</option>
                    <option value="Situs web">Situs web</option>
                    <option value="Teman">Teman</option>
                    <option value="Whatsapp">Whatsapp</option>
                    <option value="Undangan Kertas">Undangan Kertas</option>
                  </select>
                </div>

                <button type="submit" class="btn" id="submitBtn">
                  <span class="spinner" aria-hidden="true"></span>
                  Kirim
                </button>
                <div
                  id="msg"
                  class="msg"
                  role="status"
                  aria-live="polite"
                ></div>
              </form>

              <iframe name="hidden_iframe" style="display: none"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      // FIX: Menghapus duplikasi script musik
      const bgMusic = document.getElementById("bg-music");
      const toggleBtn = document.getElementById("toggle-music");

      // 1. Tombol Musik
      toggleBtn.addEventListener("click", () => {
        if (bgMusic.paused) {
          bgMusic.play().catch(() => {});
          toggleBtn.textContent = "‚ô´";
        } else {
          bgMusic.pause();
          toggleBtn.textContent = "üîá";
        }
      });
      // Autoplay setelah klik pertama (sesuai browser modern)
      document.addEventListener(
        "click",
        () => {
          if (bgMusic.paused) bgMusic.play().catch(() => {});
        },
        { once: true }
      );

      // 2. Countdown
      const countdownDate = new Date("2025-11-22T14:00:00").getTime(); // Pukul 14.00 WIB
      setInterval(() => {
        const now = new Date().getTime();
        const distance = countdownDate - now;

        // Jika waktu sudah lewat
        if (distance < 0) {
            document.getElementById("days").innerText = 0;
            document.getElementById("hours").innerText = 0;
            document.getElementById("minutes").innerText = 0;
            document.getElementById("seconds").innerText = 0;
            return;
        }

        document.getElementById("days").innerText = Math.floor(
          distance / (1000 * 60 * 60 * 24)
        );
        document.getElementById("hours").innerText = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        document.getElementById("minutes").innerText = Math.floor(
          (distance % (1000 * 60 * 60)) / (1000 * 60)
        );
        document.getElementById("seconds").innerText = Math.floor(
          (distance % (1000 * 60)) / 1000
        );
      }, 1000);

      // 3. Sticky navbar
      window.addEventListener("scroll", () => {
        const nav = document.getElementById("navbar");
        const homeSection = document.getElementById("home");
        // Tampilkan navbar setelah melewati section HOME
        if (window.scrollY >= homeSection.offsetHeight - 80) {
          nav.classList.add("show");
        } else {
          nav.classList.remove("show");
        }
      });

      // 4. Hamburger menu
      document.querySelector(".hamburger").addEventListener("click", () => {
        document.querySelector(".nav-links").classList.toggle("active");
      });

      // 5. Falling flower effect (FIX: menghapus duplikasi script bunga)
      const flowerContainer = document.getElementById("falling-flowers-container");
      const flowerTypes = ["üå∏", "üå∫", "üå∑", "üåπ", "‚ù§Ô∏è"];
      
      function createFlower() {
        const flower = document.createElement("div");
        flower.classList.add("flower");
        flower.textContent =
          flowerTypes[Math.floor(Math.random() * flowerTypes.length)];
        flower.style.left = Math.random() * 100 + "vw";
        flower.style.animationDuration = Math.random() * 5 + 5 + "s";
        flowerContainer.appendChild(flower);

        setTimeout(() => flower.remove(), 10000); // Hapus setelah animasi selesai
      }

      setInterval(createFlower, 500); // Interval 0.5 detik

      // 6. Modal Detail Acara
      function openModal() {
        document.getElementById("eventModal").style.display = "flex";
      }
      function closeModal() {
        document.getElementById("eventModal").style.display = "none";
      }
      // Tutup kalau klik luar modal
      window.onclick = function (event) {
        let modal = document.getElementById("eventModal");
        if (event.target == modal) {
          modal.style.display = "none";
        }
      };

      // 7. Lightbox Gallery (FIX: Implementasi lengkap)
      function openLightbox(img) {
        document.getElementById("lightbox").style.display = "flex";
        document.getElementById("lightbox-img").src = img.src;
      }
      function closeLightbox(event) {
        // Mencegah penutupan lightbox saat mengklik tombol close (x)
        if (event && event.target.classList.contains('close-lightbox')) {
            event.stopPropagation();
        }
        document.getElementById("lightbox").style.display = "none";
      }
      
      // 8. Logic RSVP Form (FIX: Memindahkan logic dari inline HTML)
      (() => {
        const rsvpForm = document.getElementById("rsvpForm");
        const rsvpMsg = document.getElementById("msg");
        const rsvpAttendance = document.getElementById("attendance");
        const rsvpGuests = document.getElementById("guests");
        const rsvpSubmitBtn = document.getElementById("submitBtn");

        function applyGuestsRule() {
          if (rsvpAttendance.value === "Maaf, saya tidak bisa hadir") {
            rsvpGuests.min = 0;
            rsvpGuests.value = 0;
            rsvpGuests.setAttribute("readonly", "readonly");
            rsvpGuests.placeholder = "0";
          } else {
            rsvpGuests.min = 1;
            rsvpGuests.removeAttribute("readonly");
            if (!rsvpGuests.value || Number(rsvpGuests.value) < 1)
              rsvpGuests.value = 1;
            rsvpGuests.placeholder = "1 atau 2";
          }
        }

        rsvpAttendance.addEventListener("change", applyGuestsRule);
        applyGuestsRule();

        rsvpForm.addEventListener("submit", () => {
          rsvpSubmitBtn.classList.add("loading");
          rsvpSubmitBtn.setAttribute("disabled", "disabled");
          rsvpSubmitBtn.querySelector(".spinner").style.display =
            "inline-block";
          rsvpMsg.textContent = "Mengirim...";

          // Simulasi respons Google Form
          setTimeout(() => {
            rsvpMsg.textContent = "Terima kasih, RSVP berhasil terkirim!";
            rsvpSubmitBtn.classList.remove("loading");
            rsvpSubmitBtn.removeAttribute("disabled");
            rsvpSubmitBtn.querySelector(".spinner").style.display = "none";
            rsvpForm.reset();
            
            // Reset state tamu setelah submit
            rsvpGuests.min = 1; 
            rsvpGuests.removeAttribute("readonly");
            rsvpGuests.placeholder = "1 atau 2";
            
            // Hapus pesan setelah beberapa detik
            setTimeout(() => {
                rsvpMsg.textContent = "";
            }, 5000);
            
          }, 900);
        });
      })();
    </script>
  </body>
</html>